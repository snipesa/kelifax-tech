---
import MainLayout from '../layouts/MainLayout.astro';
import ResourceCard from '../components/ResourceCard.astro';
import resourcesData from '../data/resources.json';

// Get featured resources for homepage
const featuredResources = resourcesData.filter(r => r.featured).slice(0, 6);
const totalResources = resourcesData.length;
const categories = [...new Set(resourcesData.map(r => r.category))];
---

<MainLayout title="Kelifax - Curated Tech Resources" description="Discover verified and categorized digital tools, platforms, and learning materials for developers, students, and technology enthusiasts." currentPage="home">
  <!-- Hero Section -->
  <section class="bg-gradient-to-r from-blue-600 to-purple-600 text-white py-20">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center">
        <div class="flex justify-center mb-6">
          <img 
            src="/logos/kelifax.png" 
            alt="Kelifax" 
            class="w-20 h-20 object-contain"
          />
        </div>
        <h1 class="text-5xl md:text-6xl font-bold mb-6">
          Curated Tech Resources
        </h1>
        <p class="text-xl md:text-2xl text-blue-100 mb-8 max-w-3xl mx-auto">
          Discover verified and categorized digital tools, platforms, and learning materials for developers, students, and technology enthusiasts.
        </p>
        <div class="flex flex-col sm:flex-row gap-4 justify-center">
          <a 
            href="/resources" 
            class="bg-white text-blue-600 hover:bg-gray-50 font-semibold py-4 px-8 rounded-lg transition-colors inline-flex items-center justify-center"
          >
            Browse {totalResources}+ Resources
          </a>
          <a 
            href="/submit" 
            class="border-2 border-white text-white hover:bg-white hover:text-blue-600 font-semibold py-4 px-8 rounded-lg transition-colors inline-flex items-center justify-center"
          >
            Submit a Resource
          </a>
        </div>
      </div>
    </div>
  </section>

  <!-- Stats Section -->
  <section class="py-16 bg-white">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="grid grid-cols-1 md:grid-cols-3 gap-8 text-center">
        <div>
          <div class="text-4xl font-bold text-blue-600 mb-2">{totalResources}+</div>
          <div class="text-lg text-gray-600">Curated Resources</div>
        </div>
        <div>
          <div class="text-4xl font-bold text-blue-600 mb-2">{categories.length}</div>
          <div class="text-lg text-gray-600">Categories</div>
        </div>
        <div>
          <div class="text-4xl font-bold text-blue-600 mb-2">100%</div>
          <div class="text-lg text-gray-600">Verified & Tested</div>
        </div>
      </div>
    </div>
  </section>

  <!-- Featured Resources -->
  <section class="py-16 bg-gray-50">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center mb-12">
        <h2 class="text-3xl md:text-4xl font-bold text-gray-900 mb-4">
          Featured Resources
        </h2>
        <p class="text-lg text-gray-600 max-w-2xl mx-auto">
          Hand-picked tools and platforms that stand out for their quality, innovation, and impact on the developer community.
        </p>
      </div>
      
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-12">
        {featuredResources.map((resource) => (
          <ResourceCard
            slug={resource.slug}
            title={resource.title}
            description={resource.description}
            category={resource.category}
            tags={resource.tags}
            url={resource.url}
            image={resource.image}
            featured={resource.featured}
          />
        ))}
      </div>

      <div class="text-center">
        <a 
          href="/resources" 
          class="bg-blue-600 text-white hover:bg-blue-700 font-semibold py-3 px-8 rounded-lg transition-colors inline-flex items-center gap-2"
        >
          View All Resources
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
          </svg>
        </a>
      </div>
    </div>
  </section>

  <!-- Categories Section -->
  <section class="py-16 bg-white">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center mb-12">
        <h2 class="text-3xl md:text-4xl font-bold text-gray-900 mb-4">
          Explore by Category
        </h2>
        <p class="text-lg text-gray-600">
          Find resources organized by type and purpose
        </p>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
        {categories.map((category) => {
          const categoryCount = resourcesData.filter(r => r.category === category).length;
          const categoryIcons = {
            'development': 'ðŸ’»',
            'design': 'ðŸŽ¨', 
            'productivity': 'âš¡',
            'learning': 'ðŸ“š',
            'other': 'ðŸ”§'
          };
          
          return (
            <a 
              href={`/resources?category=${category}`}
              class="bg-gray-50 hover:bg-gray-100 p-6 rounded-lg transition-colors text-center group"
            >
              <div class="text-4xl mb-3">{categoryIcons[category] || 'ðŸ”§'}</div>
              <h3 class="text-lg font-semibold text-gray-900 mb-2 capitalize group-hover:text-blue-600 transition-colors">
                {category}
              </h3>
              <p class="text-gray-600 text-sm">
                {categoryCount} resource{categoryCount !== 1 ? 's' : ''}
              </p>
            </a>
          );
        })}
      </div>
    </div>
  </section>

  <!-- Call to Action -->
  <section class="py-16 bg-blue-600">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
      <h2 class="text-3xl md:text-4xl font-bold text-white mb-4">
        Can't Find What You're Looking For?
      </h2>
      <p class="text-xl text-blue-100 mb-8">
        Help us grow our collection by submitting your favorite tools and resources
      </p>
      <a 
        href="/submit"
        class="bg-white text-blue-600 hover:bg-gray-50 font-semibold py-4 px-8 rounded-lg transition-colors inline-flex items-center gap-2"
      >
        Submit a Resource
        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" />
        </svg>
      </a>
    </div>
  </section>
</MainLayout>
